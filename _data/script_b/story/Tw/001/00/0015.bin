Msg_Load("SUB_001_003")
System_LoadWait()
Msg_Visible(true)
Object_MoveDirObject("NPC_015", "PLAYER")
if EventFlg_Get(SUB_001_003) == 2 then
  Msg_SetLabel("SUB_001_003_Ms_500", true, true)
  Msg_Clear()
  Object_MoveDirDefault("NPC_015")
  Msg_Visible(false)
  return 0
end
if EventFlg_Get(SUB_001_003) == 3 then
  Msg_SetLabel("SUB_001_003_Ms_600", true, true)
  Msg_Clear()
  Object_MoveDirDefault("NPC_015")
  Msg_Visible(false)
  return 0
end
if EventFlg_Get(SUB_001_003) == 0 then
  if StorySystem_GetStory() >= STORY_001_A then
    Msg_SetLabel("SUB_001_003_Ms_000", true, true)
    Msg_SetLabel("SUB_001_003_Ms_001", true, true)
    Msg_SetLabel("SUB_001_003_Ms_002", true, true)
    Msg_SetLabel("SUB_001_003_Ms_003", true, true)
    Msg_SetLabel("SUB_001_003_Ms_004", true, true)
    Msg_SetLabel("SUB_001_003_Ms_005", true, true)
    Msg_Choise("交给我咚。\n现在很忙咚……")
    if Msg_GetChoise() == 2 then
      Msg_SetLabel("SUB_001_003_Ms_400", true, true)
      Msg_Clear()
      Object_MoveDirDefault("NPC_015")
      Msg_Visible(false)
      return 0
    end
    if Msg_GetChoise() == 1 then
      Msg_SetLabel("SUB_001_003_Ms_100", true, true)
      EventFlg_Set(SUB_001_003, 1)
      Msg_Clear()
      Object_MoveDirDefault("NPC_015")
      Msg_Visible(false)
      return 0
    end
    return 0
  end
else
  if 3 <= Param_GetItem("ITEM_075_SUB") then
    Msg_SetLabel("SUB_001_003_Ms_300", true, true)
    Msg_SetLabel("SUB_001_003_Ms_700", true, true)
    Param_AddItem("ITEM_075_SUB", -3, true)
    Msg_SetLabel("SUB_001_003_Ms_301", true, true)
    Se_Play(ADV_SE_PLAY_00, WSD_SE_ITEM_GET)
    Msg_SetLabel("SUB_001_003_Ms_999", true, true)
    Param_AddItem("ITEM_013_SKILL", 1, true)
    EventFlg_Set(SUB_001_003, 2)
    Msg_Clear()
    Object_MoveDirDefault("NPC_015")
    Msg_Visible(false)
    return 0
  else
    Msg_SetLabel("SUB_001_003_Ms_200", true, true)
    Msg_SetLabel("SUB_001_003_Ms_201", true, true)
    Msg_Clear()
    Object_MoveDirDefault("NPC_015")
    Msg_Visible(false)
  end
end
return 0
