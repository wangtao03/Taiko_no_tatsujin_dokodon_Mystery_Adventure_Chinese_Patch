Msg_Visible(true)
Msg_Load("004_GIMMICK_SET_A")
Se_Load(WSDSET_GIMMICK)
System_LoadWait()
if EventFlg_Get(GIMMICK_004_000) == 1 then
  Msg_SetLabel("GIMMICK_000_Ms_300", true, true)
  Msg_Clear()
  Msg_Visible(false)
  return 0
end
Msg_SetLabel("GIMMICK_000_Ms_100", true, true)
Msg_Choise("是\n否")
if Msg_GetChoise() == 2 then
  Msg_Clear()
  Msg_Visible(false)
  return 0
end
if Msg_GetChoise() == 1 then
  if EventFlg_Get(GIMMICK_004_001) == 0 then
    Msg_Clear()
    Msg_Visible(false)
    System_WaitFrame(5)
    Se_Play(ADV_SE_PLAY_00, WSD_SE_GM_GEM_FLASH)
    Object_MotionChange("GIMMICK_001", "MTN_0022_switch_on")
    Object_MotionChangeWait("GIMMICK_001")
    System_WaitFrame(60)
    Msg_Visible(true)
    Msg_SetLabel("GIMMICK_000_Ms_101", true, true)
    Msg_Clear()
    Msg_Visible(false)
    System_WaitFrame(5)
    Adv_SetCameraPoint(true)
    Camera_MovePoint(CAMERA_TYPE_OBJ, "GIMMICK_002", 60)
    Camera_MoveWait()
    System_WaitFrame(5)
    Msg_Visible(true)
    Msg_SetLabel("GIMMICK_000_Ms_102", true, true)
    Msg_Clear()
    Display_FadePlay(FADE_TYPE_OUT, FADE_COLOR_BLACK, FADE_FRAME_FAST, FADE_DISPLAY_UD)
    Display_FadeWait()
    System_WaitFrame(WAIT_FRAME_FAST)
    Adv_SetCameraPoint(false)
    EventFlg_Set(GIMMICK_004_000, 1)
    System_AllDeleteEnemy()
    Msg_Visible(false)
    Display_FadePlay(FADE_TYPE_IN, FADE_COLOR_BLACK, FADE_FRAME_FAST, FADE_DISPLAY_UD)
    Display_FadeWait()
    System_WaitFrame(WAIT_FRAME_START)
    return 0
  else
    Msg_Clear()
    Msg_Visible(false)
    System_WaitFrame(5)
    Se_Play(ADV_SE_PLAY_00, WSD_SE_GM_GEM_FLASH)
    Object_MotionChange("GIMMICK_001", "MTN_0022_switch_on")
    Object_MotionChangeWait("GIMMICK_001")
    System_WaitFrame(60)
    Adv_SetCameraPoint(true)
    Camera_MovePoint(CAMERA_TYPE_OBJ, "GIMMICK_000", 60)
    Camera_MoveWait()
    System_WaitFrame(5)
    Se_Play(ADV_SE_PLAY_00, WSD_SE_GM_WAVELET)
    Object_MovePoint("GIMMICK_000", "GIMMICK_000_PATH_B", MOVETYPE_FRAME, 60, false)
    Object_MovePoinWait("GIMMICK_000")
    System_WaitFrame(30)
    Msg_Visible(true)
    Msg_SetLabel("GIMMICK_000_Ms_200", true, true)
    Msg_Clear()
    Display_FadePlay(FADE_TYPE_OUT, FADE_COLOR_BLACK, FADE_FRAME_FAST, FADE_DISPLAY_UD)
    Display_FadeWait()
    System_WaitFrame(WAIT_FRAME_FAST)
    Adv_SetCameraPoint(false)
    EventFlg_Set(GIMMICK_004_000, 1)
    System_AllDeleteEnemy()
    Msg_Visible(false)
    Display_FadePlay(FADE_TYPE_IN, FADE_COLOR_BLACK, FADE_FRAME_FAST, FADE_DISPLAY_UD)
    Display_FadeWait()
    System_WaitFrame(WAIT_FRAME_START)
  end
end
return 0
