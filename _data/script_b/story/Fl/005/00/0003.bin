Msg_Load("SUB_005_001")
System_LoadWait()
Msg_Visible(true)
Object_MoveDirObject("NPC_005", "PLAYER")
if EventFlg_Get(SUB_005_001) == 2 then
  Msg_SetLabel("SUB_005_001_Ms_500", true, true)
  Msg_Clear()
  Object_MoveDirDefault("NPC_005")
  Msg_Visible(false)
  return 0
end
if EventFlg_Get(SUB_005_001) == 3 then
  Msg_SetLabel("SUB_005_001_Ms_600", true, true)
  Msg_Clear()
  Object_MoveDirDefault("NPC_005")
  Msg_Visible(false)
  return 0
end
if EventFlg_Get(SUB_005_001) == 0 then
  if StorySystem_GetStory() >= STORY_005_A then
    Msg_SetLabel("SUB_005_001_Ms_000", true, true)
    Msg_SetLabel("SUB_005_001_Ms_001", true, true)
    Msg_SetLabel("SUB_005_001_Ms_002", true, true)
    Msg_SetLabel("SUB_005_001_Ms_003", true, true)
    Msg_SetLabel("SUB_005_001_Ms_004", true, true)
    Msg_SetLabel("SUB_005_001_Ms_005", true, true)
    Msg_Choise("交给我咚。\n现在很忙咚……")
    if Msg_GetChoise() == 2 then
      Msg_SetLabel("SUB_005_001_Ms_400", true, true)
      Msg_Clear()
      Object_MoveDirDefault("NPC_005")
      Msg_Visible(false)
      return 0
    end
    if Msg_GetChoise() == 1 then
      Msg_SetLabel("SUB_005_001_Ms_100", true, true)
      Msg_SetLabel("SUB_005_001_Ms_101", true, true)
      Msg_SetLabel("SUB_005_001_Ms_102", true, true)
      Msg_SetLabel("SUB_005_001_Ms_103", true, true)
      Msg_SetLabel("SUB_005_001_Ms_104", true, true)
      EventFlg_Set(SUB_005_001, 1)
      Msg_Clear()
      Object_MoveDirDefault("NPC_005")
      Msg_Visible(false)
      return 0
    end
    return 0
  end
else
  if 3 <= Param_GetItem("ITEM_078_SUB") then
    Msg_SetLabel("SUB_005_001_Ms_300", true, true)
    Msg_SetLabel("SUB_005_001_Ms_700", true, true)
    Param_AddItem("ITEM_078_SUB", -3, true)
    Msg_SetLabel("SUB_005_001_Ms_301", true, true)
    Se_Play(ADV_SE_PLAY_00, WSD_SE_ITEM_GET)
    Msg_SetLabel("SUB_005_001_Ms_999", true, true)
    Param_AddItem("ITEM_040_SKILL", 1, true)
    EventFlg_Set(SUB_005_001, 2)
    Msg_Clear()
    Object_MoveDirDefault("NPC_005")
    Msg_Visible(false)
    return 0
  else
    Msg_SetLabel("SUB_005_001_Ms_200", true, true)
    Msg_SetLabel("SUB_005_001_Ms_201", true, true)
    Msg_SetLabel("SUB_005_001_Ms_202", true, true)
    Msg_Clear()
    Object_MoveDirDefault("NPC_005")
    Msg_Visible(false)
  end
end
return 0
